import{a as U,b as V,c as N,d as T,f as A,g as z,h as D,i as G,k as O}from"./chunk-6URJX6A3.js";import{E as f,G as s,I as i,J as r,K as _,L as v,M as d,N as c,P as a,R as M,da as I,ea as E,fa as h,la as k,m as y,o as u,p,q as S,s as C,v as b,w as m,y as F,z as x}from"./chunk-RRCJ3WLB.js";function $(o,t){if(o&1){let e=v();i(0,"img",7),d("click",function(){let l=u(e).$implicit,g=c();return p(g.selectImage(l))}),r()}if(o&2){let e=t.$implicit;s("src",e,b)}}var w=class o{listImages=[];showModal=!1;imageSelected=new C;closeModal=new C;selectImage(t){this.imageSelected.emit(t)}close(){this.closeModal.emit()}ngOnInit(){for(let t=1;t<25;t++)this.listImages.push(`https://robohash.org/${t}`)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=x({type:o,selectors:[["app-avatar"]],inputs:{showModal:"showModal"},outputs:{imageSelected:"imageSelected",closeModal:"closeModal"},decls:9,vars:1,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-white","rounded-lg","shadow-lg","max-w-3xl","w-full","p-6"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-bold"],[1,"text-gray-500","hover:text-gray-700",3,"click"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","gap-4"],["loading","lazy","alt","Imagen","class","w-full h-32 object-cover rounded-lg cursor-pointer hover:opacity-25",3,"src","click",4,"ngFor","ngForOf"],["loading","lazy","alt","Imagen",1,"w-full","h-32","object-cover","rounded-lg","cursor-pointer","hover:opacity-25",3,"click","src"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a(4,"Selecciona una Imagen"),r(),i(5,"button",4),d("click",function(){return n.close()}),a(6," \u2715 "),r()(),i(7,"div",5),f(8,$,1,1,"img",6),r()()()),e&2&&(m(8),s("ngForOf",n.listImages))},dependencies:[h,I],encapsulation:2})};function R(o,t){if(o&1){let e=v();i(0,"img",18),d("click",function(){u(e);let l=c();return p(l.openModal())}),r()}if(o&2){let e,n=c();s("src",(e=n.userForm.get("avatar"))==null?null:e.value,b)}}function q(o,t){if(o&1){let e=v();S(),i(0,"svg",19),d("click",function(){u(e);let l=c();return p(l.openModal())}),i(1,"style",20),a(2," .st0 { fill: #134563; } "),r(),i(3,"g")(4,"g",21),_(5,"path",22)(6,"path",23),r()()()}}function H(o,t){if(o&1&&(i(0,"span",24),a(1),r()),o&2){let e=c();m(),M("",e.error," zzz")}}function J(o,t){if(o&1){let e=v();i(0,"app-avatar",25),d("imageSelected",function(l){u(e);let g=c();return p(g.onImageSelected(l))})("closeModal",function(){u(e);let l=c();return p(l.closeModal())}),r()}}var j=class o{constructor(t){this.fb=t}userservice=y(U);router=y(k);user=null;isEditMode=!1;showModal=!1;userForm;error="";ngOnInit(){this.userForm=this.fb.group({first_name:[this.user?.first_name||""],second_name:[this.user?.second_name||""],email:[this.user?.email||""],avatar:[this.user?.avatar||""]})}onSubmit(){this.userForm.valid&&this.isEditMode===!0&&this.edit(),this.userForm.valid&&this.isEditMode===!1&&this.save()}openModal(){this.showModal=!0}closeModal(){this.showModal=!1}onImageSelected(t){this.userForm.get("avatar")?.setValue(t),this.closeModal()}save(){this.userservice.createUserService(this.userForm.value).subscribe({next:t=>{this.userForm.reset(),this.router.navigate(["/user-list"])},error:t=>{console.log(t)}})}edit(){this.userservice.updateUserService(this.user?.id??"",this.userForm.value).subscribe({next:t=>{this.userForm.reset(),this.router.navigate(["/user-list"])},error:t=>{this.error=t.toString()}})}static \u0275fac=function(e){return new(e||o)(F(G))};static \u0275cmp=x({type:o,selectors:[["app-user-form"]],inputs:{user:"user",isEditMode:"isEditMode"},decls:26,vars:5,consts:[[1,"bg-gray-800","text-white","p-6","rounded-lg","shadow-lg","max-w-md","mx-auto"],[1,"text-2xl","font-bold","mb-4","text-center"],[3,"ngSubmit","formGroup"],[1,"mb-4","text-center"],["for","avatar",1,"block","text-sm","font-medium","mb-2"],[1,"flex","items-center","justify-center"],["alt","Avatar","class","w-32 h-32 rounded-full border border-gray-600 bg-white",3,"src","click",4,"ngIf"],["class","rounded-full border border-gray-600 bg-white","id","Layer_1","style","enable-background: new 0 0 64 64","version","1.1","viewBox","0 0 64 64","width","100","height","100",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"click",4,"ngIf"],[1,"mb-4"],["for","first_name",1,"block","text-sm","font-medium","mb-2"],["id","first_name","type","text","formControlName","first_name",1,"w-full","p-2","rounded","bg-gray-700","text-white","border","border-gray-600","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","second_name",1,"block","text-sm","font-medium","mb-2"],["id","second_name","type","text","formControlName","second_name",1,"w-full","p-2","rounded","bg-gray-700","text-white","border","border-gray-600","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","email",1,"block","text-sm","font-medium","mb-2"],["id","email","type","email","formControlName","email",1,"w-full","p-2","rounded","bg-gray-700","text-white","border","border-gray-600","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["type","submit",1,"w-full","bg-blue-500","hover:bg-blue-600","text-white","font-bold","py-2","px-4","rounded"],["class","text-red-500",4,"ngIf"],[3,"imageSelected","closeModal",4,"ngIf"],["alt","Avatar",1,"w-32","h-32","rounded-full","border","border-gray-600","bg-white",3,"click","src"],["id","Layer_1","version","1.1","viewBox","0 0 64 64","width","100","height","100",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"rounded-full","border","border-gray-600","bg-white",2,"enable-background","new 0 0 64 64",3,"click"],["type","text/css"],["id","Icon-User","transform","translate(278.000000, 278.000000)"],["d","M-246-222.1c-13.2,0-23.9-10.7-23.9-23.9s10.7-23.9,23.9-23.9c13.2,0,23.9,10.7,23.9,23.9     S-232.8-222.1-246-222.1L-246-222.1z M-246-267.3c-11.7,0-21.3,9.6-21.3,21.3c0,11.7,9.6,21.3,21.3,21.3     c11.7,0,21.3-9.6,21.3-21.3C-224.7-257.7-234.3-267.3-246-267.3L-246-267.3z","id","Fill-57",1,"st0"],["d","M-260-228.7l-2.4-1.1c0.7-1.7,2.9-2.6,5.4-3.7c2.4-1.1,5.4-2.4,5.4-4v-2.2     c-0.9-0.7-2.3-2.3-2.5-4.6c-0.7-0.7-1.8-2-1.8-3.6c0-1,0.4-1.8,0.7-2.3c-0.2-1.1-0.6-3.3-0.6-5c0-5.5,3.8-9.1,9.8-9.1     c1.7,0,3.8,0.5,4.9,1.7c2.7,0.5,4.9,3.7,4.9,7.4c0,2.4-0.4,4.4-0.7,5.3c0.3,0.5,0.6,1.2,0.6,2c0,1.9-0.9,3.1-1.8,3.7     c-0.2,2.3-1.5,3.8-2.3,4.5v2.2c0,1.4,2.5,2.3,4.8,3.2c2.7,1,5.5,2,6.4,4.3l-2.5,0.9c-0.4-1.2-2.8-2-4.8-2.8     c-3.1-1.1-6.6-2.4-6.6-5.6v-3.6l0.6-0.4c0.1,0,1.8-1.2,1.8-3.5v-0.9l0.8-0.3c0.1-0.1,0.9-0.5,0.9-1.7c0-0.4-0.3-0.8-0.4-0.9     l-0.5-0.6l0.2-0.7c0,0,0.7-2.2,0.7-5.2c0-2.5-1.4-4.8-2.9-4.8h-0.8l-0.4-0.7c-0.3-0.5-1.5-1-3.1-1c-4.5,0-7.2,2.4-7.2,6.5     c0,1.9,0.7,5,0.7,5l0.2,0.7l-0.5,0.5c0,0-0.4,0.5-0.4,1c0,0.7,0.9,1.6,1.3,2l0.5,0.4l0,0.7c0,2.2,1.9,3.4,1.9,3.4l0.6,0.4l0,3.6     c0,3.3-3.7,5-7,6.4C-257.5-230.4-259.6-229.4-260-228.7","id","Fill-58",1,"st0"],[1,"text-red-500"],[3,"imageSelected","closeModal"]],template:function(e,n){if(e&1&&(i(0,"div",0)(1,"h2",1),a(2,"Formulario de Usuario"),r(),i(3,"form",2),d("ngSubmit",function(){return n.onSubmit()}),i(4,"div",3)(5,"label",4),a(6,"Avatar"),r(),i(7,"div",5),f(8,R,1,1,"img",6)(9,q,7,0,"svg",7),r()(),i(10,"div",8)(11,"label",9),a(12,"Primer Nombre"),r(),_(13,"input",10),r(),i(14,"div",8)(15,"label",11),a(16,"Segundo Nombre"),r(),_(17,"input",12),r(),i(18,"div",8)(19,"label",13),a(20,"Correo Electr\xF3nico"),r(),_(21,"input",14),r(),i(22,"button",15),a(23," Guardar "),r()(),f(24,H,2,1,"span",16),r(),f(25,J,1,0,"app-avatar",17)),e&2){let l,g;m(3),s("formGroup",n.userForm),m(5),s("ngIf",(l=n.userForm.get("avatar"))==null?null:l.value),m(),s("ngIf",!((g=n.userForm.get("avatar"))!=null&&g.value)),m(15),s("ngIf",n.error!==""),m(),s("ngIf",n.showModal)}},dependencies:[O,A,V,N,T,z,D,h,E,w],encapsulation:2})};export{j as a};
