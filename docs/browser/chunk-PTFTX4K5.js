import{a as O}from"./chunk-NBMJZHWG.js";import{a as y,b as A,c as z,e as W,j as R}from"./chunk-6URJX6A3.js";import{C as D,E as g,G as d,I as n,J as s,K as _,L as v,M as m,N as c,O as I,P as l,Q as L,S as V,T as M,U as j,V as N,X as F,Y as P,da as B,ea as b,fa as w,la as C,m as f,o as p,p as u,q as E,s as k,v as T,w as a,z as h}from"./chunk-RRCJ3WLB.js";function K(r,t){if(r&1){let e=v();n(0,"div",9)(1,"div",10)(2,"h2",11),l(3,"Confirmar Eliminaci\xF3n"),s(),n(4,"p",12),l(5," \xBFEst\xE1s seguro de que deseas eliminar este usuario? "),s(),n(6,"div",13)(7,"button",14),m("click",function(){p(e);let o=c();return u(o.closeDialog())}),l(8," Cerrar "),s(),n(9,"button",7),m("click",function(){p(e);let o=c();return u(o.confirmDelete())}),l(10," Aceptar "),s()()()()}}var U=class r{router=f(C);userService=f(y);user={};delete=new k;showDialog=!1;idUser="";onEdit(t){this.router.navigate(["/user",t])}onDelete(t){this.showDialog=!0,this.idUser=t}confirmDelete(){this.delete.emit(this.user.id),this.closeDialog()}closeDialog(){this.showDialog=!1,this.idUser=""}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=h({type:r,selectors:[["app-user-card"]],inputs:{user:"user"},outputs:{delete:"delete"},decls:12,vars:6,consts:[[1,"w-64","h-80","mx-auto","bg-gray-800","text-white","shadow-lg","rounded-lg","overflow-hidden"],[1,"p-4","text-center"],[1,"flex","justify-center","mt-4"],[1,"w-24","h-24","rounded-full","border-4","border-blue-500",3,"src","alt"],[1,"text-2xl","font-bold","mt-4","truncate"],[1,"flex","justify-around","items-center","p-4","border-t","border-gray-700"],[1,"bg-blue-500","hover:bg-blue-600","text-white","font-bold","py-2","px-4","rounded",3,"click"],[1,"bg-red-500","hover:bg-red-600","text-white","font-bold","py-2","px-4","rounded",3,"click"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",4,"ngIf"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-white","rounded-lg","shadow-lg","p-6","w-96"],[1,"text-xl","font-bold","mb-4"],[1,"text-gray-700","mb-6"],[1,"flex","justify-end","gap-4"],[1,"bg-gray-500","hover:bg-gray-600","text-white","font-bold","py-2","px-4","rounded",3,"click"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),_(3,"img",3),s(),n(4,"h2",4),l(5),s()(),n(6,"div",5)(7,"button",6),m("click",function(){return i.onEdit(i.user.id)}),l(8," Editar "),s(),n(9,"button",7),m("click",function(){return i.onDelete(i.user.id)}),l(10," Eliminar "),s()()(),g(11,K,11,0,"div",8)),e&2&&(a(3),I("alt","Avatar of ",i.user.first_name,""),d("src",i.user.avatar,T),a(2),V(" ",i.user.first_name," ",i.user.second_name," "),a(6),d("ngIf",i.showDialog))},dependencies:[w,b],encapsulation:2})};var S=class r{transform(t,e){if(!t||!e)return t;let i=e.toLowerCase();return t.filter(o=>o.first_name.toLowerCase().includes(i)||o.second_name.toLowerCase().includes(i)||o.email.toLowerCase().includes(i))}static \u0275fac=function(e){return new(e||r)};static \u0275pipe=D({name:"search",type:r,pure:!0})};function Q(r,t){if(r&1&&(n(0,"span",15),l(1),s()),r&2){let e=c(2);a(),L(e.error)}}function X(r,t){if(r&1){let e=v();n(0,"div")(1,"app-user-card",16),m("delete",function(o){p(e);let x=c(2);return u(x.deleteUser(o))}),s()()}if(r&2){let e=t.$implicit;a(),d("user",e)}}function Y(r,t){if(r&1){let e=v();n(0,"div",2)(1,"p",3),l(2,"Lista de Usuarios"),s(),n(3,"div",4)(4,"input",5),N("ngModelChange",function(o){p(e);let x=c();return j(x.searchTerm,o)||(x.searchTerm=o),u(o)}),s()(),n(5,"div",6),g(6,Q,2,1,"span",7)(7,X,2,1,"div",8),F(8,"search"),n(9,"div",9),m("click",function(){p(e);let o=c();return u(o.navigateNewUser())}),n(10,"div",10),E(),n(11,"svg",11),_(12,"circle",12)(13,"line",13)(14,"line",14),s()()()()()}if(r&2){let e=c();a(4),M("ngModel",e.searchTerm),a(2),d("ngIf",e.error),a(),d("ngForOf",P(8,3,e.users,e.searchTerm))}}function Z(r,t){r&1&&(n(0,"div"),_(1,"app-loading"),s())}var G=class r{userService=f(y);router=f(C);users=[];user=null;loading=!1;error="";searchTerm="";constructor(){}ngOnInit(){this.getUsers()}getUsers(){this.loading=!0,this.userService.getUsersService().subscribe({next:t=>{this.users=t,this.loading=!1},error:t=>{this.loading=!1,this.error="Error al obtener los usuarios",console.error("Error al encontrar los usuarios:",t)}})}navigateNewUser(){this.router.navigate(["/new-user"])}deleteUser(t){this.userService.deleteUserService(t).subscribe({next:e=>{this.getUsers()},error:e=>{console.error("Error al eliminar el usuario:",e)}})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=h({type:r,selectors:[["app-user-list"]],decls:2,vars:2,consts:[["class","bg-black text-white min-h-screen p-4 pt-16",4,"ngIf"],[4,"ngIf"],[1,"bg-black","text-white","min-h-screen","p-4","pt-16"],[1,"text-center","text-5xl","font-bold","mb-8"],[1,"flex","justify-center","mb-8"],["type","text","placeholder","Buscar usuario...",1,"w-full","max-w-md","p-2","rounded-lg","bg-gray-800","text-white","border","border-gray-600","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6"],["class","text-red-500",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"w-64","h-80","mx-auto","bg-gray-800","text-white","shadow-lg","rounded-lg","overflow-hidden","flex","items-center","justify-center",3,"click"],[1,"text-center"],["fill","none","height","100","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","viewBox","0 0 24 24","width","100","xmlns","http://www.w3.org/2000/svg",1,"w-24","h-24","rounded-full","border-4","border-blue-500"],["cx","12","cy","12","r","10"],["x1","12","x2","12","y1","8","y2","16"],["x1","8","x2","16","y1","12","y2","12"],[1,"text-red-500"],[3,"delete","user"]],template:function(e,i){e&1&&g(0,Y,15,6,"div",0)(1,Z,2,0,"div",1),e&2&&(d("ngIf",!i.loading),a(),d("ngIf",i.loading))},dependencies:[w,B,b,U,O,R,A,z,W,S],encapsulation:2})};export{G as UserListComponent};
